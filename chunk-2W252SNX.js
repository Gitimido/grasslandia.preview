import{$ as a,Ba as b,G as x,Ka as S,Lb as q,Ma as y,Pa as M,V as o,W as f,Ya as F,Z as p,Za as w,ab as P,bb as O,cb as d,db as E,ea as r,eb as k,fa as i,ga as _,gb as T,hb as N,ib as L,jb as A,ka as I,kb as z,la as v,lb as G,ra as s,ta as C,za as h}from"./chunk-UPP2GHVQ.js";var D=n=>({invalid:n});function j(n,l){n&1&&(r(0,"span"),s(1,"Email is required"),i())}function Y(n,l){n&1&&(r(0,"span"),s(1,"Please enter a valid email"),i())}function B(n,l){if(n&1&&(r(0,"div",15),p(1,j,2,0,"span",12)(2,Y,2,0,"span",12),i()),n&2){let t,e,m=v();o(),a("ngIf",(t=m.signInForm.get("email"))==null||t.errors==null?null:t.errors.required),o(),a("ngIf",(e=m.signInForm.get("email"))==null||e.errors==null?null:e.errors.email)}}function V(n,l){n&1&&(r(0,"span"),s(1,"Password is required"),i())}function U(n,l){n&1&&(r(0,"span"),s(1,"Password must be at least 6 characters"),i())}function H(n,l){if(n&1&&(r(0,"div",15),p(1,V,2,0,"span",12)(2,U,2,0,"span",12),i()),n&2){let t,e,m=v();o(),a("ngIf",(t=m.signInForm.get("password"))==null||t.errors==null?null:t.errors.required),o(),a("ngIf",(e=m.signInForm.get("password"))==null||e.errors==null?null:e.errors.minlength)}}function J(n,l){if(n&1&&(r(0,"div",16),s(1),i()),n&2){let t=v();o(),C(" ",t.errorMessage," ")}}function K(n,l){n&1&&(r(0,"span"),s(1,"Sign In"),i())}function Q(n,l){n&1&&(r(0,"span"),s(1,"Signing In..."),i())}var R=class n{constructor(l,t,e){this.fb=l;this.authService=t;this.router=e;this.signInForm=this.fb.group({email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]]})}signInForm;isLoading=!1;errorMessage="";onSubmit(){if(this.signInForm.valid){this.isLoading=!0,this.errorMessage="";let{email:l,password:t}=this.signInForm.value;this.authService.signIn(l,t).subscribe({next:e=>{e?this.router.navigate(["/"]):this.errorMessage="Invalid email or password",this.isLoading=!1},error:e=>{this.errorMessage=e.message||"An error occurred during sign in",this.isLoading=!1}})}else this.signInForm.markAllAsTouched()}static \u0275fac=function(t){return new(t||n)(f(A),f(q),f(F))};static \u0275cmp=x({type:n,selectors:[["app-sign-in"]],hostAttrs:[1,"auth-page"],standalone:!0,features:[h],decls:23,vars:13,consts:[[1,"sign-in-container"],[1,"sign-in-card"],[1,"title"],[1,"sign-in-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email",3,"ngClass"],["class","error-message",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Enter your password",3,"ngClass"],["class","error-alert",4,"ngIf"],["type","submit",1,"submit-button",3,"disabled"],[4,"ngIf"],[1,"sign-up-link"],["routerLink","/signup"],[1,"error-message"],[1,"error-alert"]],template:function(t,e){if(t&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Sign In to Grasslandia"),i(),r(4,"form",3),I("ngSubmit",function(){return e.onSubmit()}),r(5,"div",4)(6,"label",5),s(7,"Email"),i(),_(8,"input",6),p(9,B,3,2,"div",7),i(),r(10,"div",4)(11,"label",8),s(12,"Password"),i(),_(13,"input",9),p(14,H,3,2,"div",7),i(),p(15,J,2,1,"div",10),r(16,"button",11),p(17,K,2,0,"span",12)(18,Q,2,0,"span",12),i()(),r(19,"div",13),s(20," Don't have an account? "),r(21,"a",14),s(22,"Sign Up"),i()()()()),t&2){let m,g,c,u;o(4),a("formGroup",e.signInForm),o(4),a("ngClass",b(9,D,((m=e.signInForm.get("email"))==null?null:m.invalid)&&((m=e.signInForm.get("email"))==null?null:m.touched))),o(),a("ngIf",((g=e.signInForm.get("email"))==null?null:g.invalid)&&((g=e.signInForm.get("email"))==null?null:g.touched)),o(4),a("ngClass",b(11,D,((c=e.signInForm.get("password"))==null?null:c.invalid)&&((c=e.signInForm.get("password"))==null?null:c.touched))),o(),a("ngIf",((u=e.signInForm.get("password"))==null?null:u.invalid)&&((u=e.signInForm.get("password"))==null?null:u.touched)),o(),a("ngIf",e.errorMessage),o(),a("disabled",e.isLoading),o(),a("ngIf",!e.isLoading),o(),a("ngIf",e.isLoading)}},dependencies:[M,S,y,z,T,O,E,k,G,N,L,P,w],styles:[".sign-in-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.sign-in-card[_ngcontent-%COMP%]{background-color:var(--card-background);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);padding:32px;width:100%;max-width:400px;border:1px solid var(--border-color);animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px;text-align:center;color:var(--text-color)}.sign-in-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-color);opacity:.8}input[_ngcontent-%COMP%]{padding:12px;border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:16px;background-color:var(--input-background, var(--card-background));color:var(--text-color);transition:all var(--transition-fast)}input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px rgba(var(--primary-color-rgb, 74, 144, 226),.2)}input.invalid[_ngcontent-%COMP%]{border-color:var(--error-color)}.error-message[_ngcontent-%COMP%]{color:var(--error-color);font-size:12px;margin-top:4px}.error-alert[_ngcontent-%COMP%]{background-color:rgba(var(--error-color-rgb, 229, 57, 53),.1);border:1px solid rgba(var(--error-color-rgb, 229, 57, 53),.2);border-radius:var(--radius-md);color:var(--error-color);padding:12px;font-size:14px;margin-bottom:16px}.submit-button[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;border:none;border-radius:var(--radius-md);padding:12px;font-size:16px;font-weight:500;cursor:pointer;transition:all var(--transition-fast)}.submit-button[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark);transform:translateY(-2px);box-shadow:var(--shadow)}.submit-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.sign-up-link[_ngcontent-%COMP%]{margin-top:24px;text-align:center;font-size:14px;color:var(--text-color);opacity:.8}.sign-up-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500;transition:opacity var(--transition-fast)}.sign-up-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8;text-decoration:underline}"]})};export{R as a};
