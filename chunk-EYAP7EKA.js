import{b as N}from"./chunk-LIYFZQGL.js";import"./chunk-3SCB5KN2.js";import{s as k,t as w,u as D,v as L}from"./chunk-ZFMLJ4I4.js";import"./chunk-5FDPCJE3.js";import{$ as s,G as g,J as v,K as f,Ma as h,Pa as M,V as r,W as d,Wa as O,Ya as S,Z as u,Za as y,ab as I,ba as _,ea as i,fa as a,ga as p,ja as b,ka as x,la as c,ra as l,sa as C,za as P}from"./chunk-UPP2GHVQ.js";import"./chunk-ZQOO3JOD.js";import"./chunk-HMJPAHNJ.js";function E(o,e){o&1&&(i(0,"div",5),p(1,"div",6),i(2,"p"),l(3,"Loading post..."),a()())}function Y(o,e){if(o&1&&(i(0,"div",7)(1,"div",8),l(2),a(),i(3,"button",9),l(4,"Back to Home"),a()()),o&2){let t=c();r(2),C(t.error)}}function j(o,e){if(o&1){let t=b();i(0,"div",10)(1,"app-post-card",11),x("deleted",function(){v(t);let m=c();return f(m.handlePostDeleted())}),a(),p(2,"app-comments-section",12),a()}if(o&2){let t=c();r(),s("post",t.post),r(),s("postId",t.post.id)}}var R=class o{constructor(e,t,n,m){this.route=e;this.router=t;this.postService=n;this.sideNavService=m}post=null;isLoading=!0;error=null;isSidebarCollapsed=!1;ngOnInit(){this.sideNavService.sidebarState.subscribe(e=>{this.isSidebarCollapsed=e}),this.route.paramMap.subscribe(e=>{let t=e.get("id");if(!t){this.router.navigate(["/"]);return}this.loadPost(t)})}loadPost(e){this.isLoading=!0,this.error=null,this.postService.getPost(e).subscribe({next:t=>{this.post=t,this.isLoading=!1},error:t=>{console.error("Error loading post:",t),this.error="Unable to load the post. It may have been deleted or is not available.",this.isLoading=!1}})}handlePostDeleted(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||o)(d(O),d(S),d(w),d(L))};static \u0275cmp=g({type:o,selectors:[["app-post-detail"]],standalone:!0,features:[P],decls:6,vars:5,consts:[[1,"post-detail-container"],[1,"post-detail-content"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","post-wrapper",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"error-container"],[1,"error-message"],["routerLink","/",1,"back-button"],[1,"post-wrapper"],[3,"deleted","post"],[3,"postId"]],template:function(t,n){t&1&&(p(0,"app-side-nav"),i(1,"div",0)(2,"div",1),u(3,E,4,0,"div",2)(4,Y,5,1,"div",3)(5,j,3,2,"div",4),a()()),t&2&&(r(),_("sidebar-collapsed",n.isSidebarCollapsed),r(2),s("ngIf",n.isLoading),r(),s("ngIf",n.error),r(),s("ngIf",!n.isLoading&&!n.error&&n.post))},dependencies:[M,h,I,y,N,D,k],styles:[".post-detail-container[_ngcontent-%COMP%]{margin-left:250px;padding:24px;min-height:100vh;background-color:var(--background-color);transition:margin-left var(--transition-normal)}.post-detail-container.sidebar-collapsed[_ngcontent-%COMP%]{margin-left:68px}@media (max-width: 768px){.post-detail-container[_ngcontent-%COMP%]{margin-left:68px;padding:16px}}.post-detail-content[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;animation:_ngcontent-%COMP%_fadeIn .4s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 0;background-color:var(--card-background);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);margin:20px 0;border:1px solid var(--border-color)}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:3px solid var(--hover-color);border-top:3px solid var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);opacity:.7;font-size:16px;font-weight:500}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-container[_ngcontent-%COMP%]{background-color:rgba(var(--error-color-rgb, 229, 57, 53),.1);border:1px solid rgba(var(--error-color-rgb, 229, 57, 53),.2);border-radius:var(--radius-lg);padding:24px;margin:40px auto;text-align:center;max-width:500px}.error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--error-color);margin-bottom:20px;font-size:16px;line-height:1.5}.error-container[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;border:none;border-radius:var(--radius-md);padding:10px 20px;font-size:15px;font-weight:500;cursor:pointer;transition:all var(--transition-fast)}.error-container[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark);transform:translateY(-2px);box-shadow:var(--shadow)}.error-container[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.post-wrapper[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .4s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};export{R as PostDetailComponent};
