import{$ as a,Ba as f,G as w,Ka as I,Lb as B,Ma as N,Pa as O,V as o,W as y,Ya as T,Z as m,Za as k,ab as q,bb as A,cb as d,db as L,ea as i,eb as G,fa as r,ga as c,gb as z,hb as R,ib as D,jb as V,ka as P,kb as j,la as g,lb as Y,ra as s,ta as M,za as E}from"./chunk-UPP2GHVQ.js";import"./chunk-ZQOO3JOD.js";import"./chunk-HMJPAHNJ.js";var _=n=>({invalid:n});function H(n,l){n&1&&(i(0,"span"),s(1,"Email is required"),r())}function K(n,l){n&1&&(i(0,"span"),s(1,"Please enter a valid email"),r())}function Q(n,l){if(n&1&&(i(0,"div",21),m(1,H,2,0,"span",18)(2,K,2,0,"span",18),r()),n&2){let t,e,p=g();o(),a("ngIf",(t=p.signUpForm.get("email"))==null||t.errors==null?null:t.errors.required),o(),a("ngIf",(e=p.signUpForm.get("email"))==null||e.errors==null?null:e.errors.email)}}function W(n,l){n&1&&(i(0,"span"),s(1,"Full name is required"),r())}function X(n,l){if(n&1&&(i(0,"div",21),m(1,W,2,0,"span",18),r()),n&2){let t,e=g();o(),a("ngIf",(t=e.signUpForm.get("fullName"))==null||t.errors==null?null:t.errors.required)}}function Z(n,l){n&1&&(i(0,"span"),s(1,"Username is required"),r())}function $(n,l){n&1&&(i(0,"span"),s(1,"Username must be at least 3 characters"),r())}function ee(n,l){if(n&1&&(i(0,"div",21),m(1,Z,2,0,"span",18)(2,$,2,0,"span",18),r()),n&2){let t,e,p=g();o(),a("ngIf",(t=p.signUpForm.get("username"))==null||t.errors==null?null:t.errors.required),o(),a("ngIf",(e=p.signUpForm.get("username"))==null||e.errors==null?null:e.errors.minlength)}}function ne(n,l){n&1&&(i(0,"span"),s(1,"Password is required"),r())}function te(n,l){n&1&&(i(0,"span"),s(1,"Password must be at least 6 characters"),r())}function re(n,l){if(n&1&&(i(0,"div",21),m(1,ne,2,0,"span",18)(2,te,2,0,"span",18),r()),n&2){let t,e,p=g();o(),a("ngIf",(t=p.signUpForm.get("password"))==null||t.errors==null?null:t.errors.required),o(),a("ngIf",(e=p.signUpForm.get("password"))==null||e.errors==null?null:e.errors.minlength)}}function ie(n,l){n&1&&(i(0,"span"),s(1,"Please confirm your password"),r())}function oe(n,l){n&1&&(i(0,"span"),s(1,"Passwords don't match"),r())}function ae(n,l){if(n&1&&(i(0,"div",21),m(1,ie,2,0,"span",18)(2,oe,2,0,"span",18),r()),n&2){let t,e=g();o(),a("ngIf",(t=e.signUpForm.get("confirmPassword"))==null||t.errors==null?null:t.errors.required),o(),a("ngIf",e.signUpForm.errors==null?null:e.signUpForm.errors.passwordMismatch)}}function le(n,l){if(n&1&&(i(0,"div",22),s(1),r()),n&2){let t=g();o(),M(" ",t.errorMessage," ")}}function se(n,l){n&1&&(i(0,"span"),s(1,"Create Account"),r())}function pe(n,l){n&1&&(i(0,"span"),s(1,"Creating Account..."),r())}var J=class n{constructor(l,t,e){this.fb=l;this.authService=t;this.router=e;this.signUpForm=this.fb.group({email:["",[d.required,d.email]],fullName:["",[d.required]],username:["",[d.required,d.minLength(3)]],password:["",[d.required,d.minLength(6)]],confirmPassword:["",[d.required]]},{validators:this.passwordMatchValidator})}signUpForm;isLoading=!1;errorMessage="";passwordMatchValidator(l){let t=l.get("password")?.value,e=l.get("confirmPassword")?.value;return t===e?null:{passwordMismatch:!0}}onSubmit(){if(this.signUpForm.valid){this.isLoading=!0,this.errorMessage="";let{email:l,password:t,username:e,fullName:p}=this.signUpForm.value;this.authService.signUp(l,t,e,p).subscribe({next:u=>{u?this.router.navigate(["/"]):this.errorMessage="Unable to create account",this.isLoading=!1},error:u=>{this.errorMessage=u.message||"An error occurred during sign up",this.isLoading=!1}})}else this.signUpForm.markAllAsTouched()}static \u0275fac=function(t){return new(t||n)(y(V),y(B),y(T))};static \u0275cmp=w({type:n,selectors:[["app-sign-up"]],hostAttrs:[1,"auth-page"],standalone:!0,features:[E],decls:38,vars:25,consts:[[1,"sign-up-container"],[1,"sign-up-card"],[1,"title"],[1,"sign-up-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email",3,"ngClass"],["class","error-message",4,"ngIf"],["for","fullName"],["type","text","id","fullName","formControlName","fullName","placeholder","Enter your full name",3,"ngClass"],["for","username"],["type","text","id","username","formControlName","username","placeholder","Choose a username",3,"ngClass"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Create a password",3,"ngClass"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your password",3,"ngClass"],["class","error-alert",4,"ngIf"],["type","submit",1,"submit-button",3,"disabled"],[4,"ngIf"],[1,"sign-in-link"],["routerLink","/signin"],[1,"error-message"],[1,"error-alert"]],template:function(t,e){if(t&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Join Grasslandia"),r(),i(4,"form",3),P("ngSubmit",function(){return e.onSubmit()}),i(5,"div",4)(6,"label",5),s(7,"Email"),r(),c(8,"input",6),m(9,Q,3,2,"div",7),r(),i(10,"div",4)(11,"label",8),s(12,"Full Name"),r(),c(13,"input",9),m(14,X,2,1,"div",7),r(),i(15,"div",4)(16,"label",10),s(17,"Username"),r(),c(18,"input",11),m(19,ee,3,2,"div",7),r(),i(20,"div",4)(21,"label",12),s(22,"Password"),r(),c(23,"input",13),m(24,re,3,2,"div",7),r(),i(25,"div",4)(26,"label",14),s(27,"Confirm Password"),r(),c(28,"input",15),m(29,ae,3,2,"div",7),r(),m(30,le,2,1,"div",16),i(31,"button",17),m(32,se,2,0,"span",18)(33,pe,2,0,"span",18),r()(),i(34,"div",19),s(35," Already have an account? "),i(36,"a",20),s(37,"Sign In"),r()()()()),t&2){let p,u,v,C,x,h,b,U,S,F;o(4),a("formGroup",e.signUpForm),o(4),a("ngClass",f(15,_,((p=e.signUpForm.get("email"))==null?null:p.invalid)&&((p=e.signUpForm.get("email"))==null?null:p.touched))),o(),a("ngIf",((u=e.signUpForm.get("email"))==null?null:u.invalid)&&((u=e.signUpForm.get("email"))==null?null:u.touched)),o(4),a("ngClass",f(17,_,((v=e.signUpForm.get("fullName"))==null?null:v.invalid)&&((v=e.signUpForm.get("fullName"))==null?null:v.touched))),o(),a("ngIf",((C=e.signUpForm.get("fullName"))==null?null:C.invalid)&&((C=e.signUpForm.get("fullName"))==null?null:C.touched)),o(4),a("ngClass",f(19,_,((x=e.signUpForm.get("username"))==null?null:x.invalid)&&((x=e.signUpForm.get("username"))==null?null:x.touched))),o(),a("ngIf",((h=e.signUpForm.get("username"))==null?null:h.invalid)&&((h=e.signUpForm.get("username"))==null?null:h.touched)),o(4),a("ngClass",f(21,_,((b=e.signUpForm.get("password"))==null?null:b.invalid)&&((b=e.signUpForm.get("password"))==null?null:b.touched))),o(),a("ngIf",((U=e.signUpForm.get("password"))==null?null:U.invalid)&&((U=e.signUpForm.get("password"))==null?null:U.touched)),o(4),a("ngClass",f(23,_,(((S=e.signUpForm.get("confirmPassword"))==null?null:S.invalid)||(e.signUpForm.errors==null?null:e.signUpForm.errors.passwordMismatch))&&((S=e.signUpForm.get("confirmPassword"))==null?null:S.touched))),o(),a("ngIf",(((F=e.signUpForm.get("confirmPassword"))==null?null:F.invalid)||(e.signUpForm.errors==null?null:e.signUpForm.errors.passwordMismatch))&&((F=e.signUpForm.get("confirmPassword"))==null?null:F.touched)),o(),a("ngIf",e.errorMessage),o(),a("disabled",e.isLoading),o(),a("ngIf",!e.isLoading),o(),a("ngIf",e.isLoading)}},dependencies:[O,I,N,j,z,A,L,G,Y,R,D,q,k],styles:[".sign-up-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:var(--background-color);padding:20px}.sign-up-card[_ngcontent-%COMP%]{background-color:var(--card-background);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);padding:32px;width:100%;max-width:400px;border:1px solid var(--border-color);animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px;text-align:center;color:var(--text-color)}.sign-up-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-color);opacity:.8}input[_ngcontent-%COMP%]{padding:12px;border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:16px;background-color:var(--input-background, var(--card-background));color:var(--text-color);transition:all var(--transition-fast)}input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px rgba(var(--primary-color-rgb, 74, 144, 226),.2)}input.invalid[_ngcontent-%COMP%]{border-color:var(--error-color)}.error-message[_ngcontent-%COMP%]{color:var(--error-color);font-size:12px;margin-top:4px}.error-alert[_ngcontent-%COMP%]{background-color:rgba(var(--error-color-rgb, 229, 57, 53),.1);border:1px solid rgba(var(--error-color-rgb, 229, 57, 53),.2);border-radius:var(--radius-md);color:var(--error-color);padding:12px;font-size:14px;margin-bottom:16px}.submit-button[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;border:none;border-radius:var(--radius-md);padding:12px;font-size:16px;font-weight:500;cursor:pointer;transition:all var(--transition-fast)}.submit-button[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark);transform:translateY(-2px);box-shadow:var(--shadow)}.submit-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.sign-in-link[_ngcontent-%COMP%]{margin-top:24px;text-align:center;font-size:14px;color:var(--text-color);opacity:.8}.sign-in-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500;transition:opacity var(--transition-fast)}.sign-in-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8;text-decoration:underline}"]})};export{J as SignUpComponent};
